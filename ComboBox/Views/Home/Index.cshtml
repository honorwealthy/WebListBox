<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>資料撈取</title>
<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="Content-Style-Type" content="text/css" />

@Styles.Render("~/Styles/Column")

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryui")
@Scripts.Render("~/Scripts/ComboBox")

<style>

</style>

<script type="text/javascript">

    $(function () {

        var $popup = $('.popup_wrap');
        $popup.disableSelection();

        window.allRows = $popup.find('.column_all li').click(function (event) {
            if (event.ctrlKey) {
                $(this).toggleClass('selected');
            }
            else {
                $('.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        });

        var $search = $popup.find('.column_search input').on({
            keyup: function (event) {
                return _onkeyupsearch(event);
            }
        });

    });

    function _onkeyupsearch(event) {
        var $input = $(event.target),
            val = $.trim($input.val()).toUpperCase();

        for (var i = 0, len = allRows.length; i < len; i++) {
            var rowData = $(allRows[i]),
                text = rowData.html().toUpperCase(),
                indx = text.indexOf(val);

            rowData.searchIndx = null;
            if (indx === -1) {
                rowData.hide();
            }
            //            else if (contain === false && indx > 0) {
            //                rowData.hide();
            //            }
            else {
                rowData.show();
                rowData.searchIndx = indx;
            }
        }
    }

    function rightFun() {
        console.log("rightFun");
        $(".column_all li.selected").appendTo(".column_current ul");
    }

    function leftFun() {
        console.log("leftFun");
        $(".column_current ul li.selected").appendTo(".column_all");
    }
</script>
</head>
    <!-- 彈出視窗begin -->
    <div class="popup_wrap" id='aaalll'>
        <div class="popup_box sheet_filter">
            <span class="te_popup_btn_close" title="close"></span>
            <h4 class="title_column_setting">欄位設定 <dfn>按住Ctrl可以複選</dfn></h4>
            <hr>
            <div class="popup_main">
                <div class="column_wrap">
                    <h5>所有欄位</h5>
                    <div class="column_search">
                        <input type="text" placeholder="輸入欲搜尋欄位">
                        <div class="search_icon"></div>
                    </div>
                    <div class="column_all">
                        <dl>
                            <dt>會員資料</dt>
                            <dd>
                                <ul>
                                    <li>會員種類1</li>
                                    <li>會員姓名1</li>
                                    <li>會員生日2</li>
                                    <li>會員手機3</li>
                                    <li>縣市5</li>
                                </ul>
                            </dd>
                        </dl>
                        <dl>
                            <dt>訂單資料</dt>
                            <dd>
                                <ul>
                                    <li>消費時間233</li>
                                    <li>總消費金額377</li>
                                    <li>單筆消費金額610</li>
                                </ul>
                            </dd>
                        </dl>
                    </div>
                </div>
                <div class="column_arr_l_and_r">
                    <div class="te_com_btn_edit_up arr_l_to_r" onclick="rightFun()"></div>
                    <div class="te_com_btn_edit_up arr_r_to_l" onclick="leftFun()"></div>
                </div>
                <div class="column_wrap">
                    <h5>目前欄位</h5>
                    <div class="column_arr_u_and_d">
                        <div class="te_com_btn_edit_up"></div>
                        <div class="te_com_btn_edit_down"></div>
                    </div>
                    <div class="column_current">
                        <ul>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="popup_btn">
                <input class="te_com_btn_sub" type="button" value="確定">
            </div>
        </div>
    </div>
    <div id='test'></div>
    <!-- 彈出視窗end -->
</body>
</html>